/* CRIA NETWORK PARA COLOCAR NA MESMA REDE OS PROJETOS */
docker network create library-network

/* CRIA UM CONTAINER POSTGRES, COM BANCO DE DADOS E COM USU√ÅRIO E SENHA JUNTOS */
Docker run --name librarydb -p 5433:5432 -e POSTGRES_PASSWORD=postgres -e POSTGRES_USER=postgres -e POSTGRES_DB=library postgres:17.6

/* CRIA O PGADMIN4 PARA SE CONECTAR AO POSTGRES */
/* ACESSA PELA URL DO NAVEGADOR http://localhost:15432/ */
docker run --name pgadmin4 -e PGADMIN_DEFAULT_EMAIL=admin@admin.com -e PGADMIN_DEFAULT_PASSWORD=admin -p 15432:80 dpage/pgadmin4:9.7.0

üìå Gerenciar containers
docker ps              # lista containers em execu√ß√£o
docker ps -a           # lista todos os containers (inclusive parados)
docker start <nome>    # inicia um container existente
docker stop <nome>     # para um container em execu√ß√£o
docker restart <nome>  # reinicia um container existente
docker rm <nome>       # remove um container parado
docker rm -f <nome>    # for√ßa a remo√ß√£o de um container (mesmo rodando)

üìå Logs e debug
docker logs <nome>         # mostra logs de um container
docker logs -f <nome>      # mostra logs em tempo real
docker inspect <nome>      # detalhes do container (rede, portas, env)
docker exec -it <nome> sh  # abre terminal dentro do container
docker exec -it <nome> psql -U postgres   # conecta no Postgres dentro do container

üìå Volumes e limpeza
docker volume ls        # lista volumes
docker volume rm <nome> # remove volume espec√≠fico
docker volume prune     # remove volumes n√£o usados

üìå Funcionalidades de backup em docker
1. Alternativa: Fazer backup usando pg_dump dentro do container
docker exec -t librarydb pg_dump -U postgres library > C:\Users\kukut\Documents\backup_library.sql
Explicando:
docker exec -t librarydb ‚Üí executa um comando no container.
pg_dump -U postgres library ‚Üí faz dump do banco library com o usu√°rio postgres.
> ‚Üí redireciona o dump para um arquivo no seu host (Windows neste caso).
No Linux/macOS voc√™ faria algo como /home/usuario/backup_library.sql.

2. Alternativa: Usando volume dentro do container
docker exec librarydb pg_dump -U postgres library -f /var/lib/postgresql/data/backup_library.sql
docker cp librarydb:/var/lib/postgresql/data/backup_library.sql C:\Users\kukut\Documents\backup_library.sql

3. Restaurar o backup
Para restaurar o backup em um container PostgreSQL:
docker exec -i librarydb psql -U postgres -d library < C:\Users\kukut\Documents\backup_library.sql
